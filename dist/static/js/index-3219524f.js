import{h as et,j as V,v as It,x as R,l as B,m as se,C as Bt,a3 as tt,a as kt,r as K,w as ct,k as J,o as le,B as ce,D as I,u as nt,ba as de,b9 as ue}from"./runtime-core.esm-bundler-185e3605.js";import{_ as Zt}from"./_plugin-vue_export-helper-c27b6911.js";import{bo as fe,b_ as Et,c4 as zt,c5 as Dt}from"./auth-0313e5d1.js";import{u as At}from"./app-c0ae8c6f.js";import{dG as he,ay as Rt,B as $t,ap as Yt,cm as ge,bu as _t,bV as Ht,cq as ve,g as xt,dH as me,bZ as pe,cr as we,e as Tt,b$ as ye,c1 as _e,dI as Xt,dJ as xe,bK as be,d5 as Se,L as Gt,ah as Vt,K as Nt,dK as Me,_ as jt,dL as Le,dM as Ut,dN as Te,bc as Ce,bd as Ie,a6 as bt,b0 as Kt,dF as ke,bi as Ee,dO as ze,bb as De,bj as Ae,Z as Re,dP as St,dz as Fe,aT as Oe,aL as Pe,am as We,af as Be,bU as $e,l as Ye}from"./installCanvasRenderer-14dba135.js";import{g as He}from"./tag-229ab50b.js";import{g as Xe}from"./site-c95c3361.js";import"./vue-router-0b23dc16.js";function Ge(s){if(s){for(var e=[],a=0;a<s.length;a++)e.push(s[a].slice());return e}}function Ve(s,e){var a=s.label,r=e&&e.getTextGuideLine();return{dataIndex:s.dataIndex,dataType:s.dataType,seriesIndex:s.seriesModel.seriesIndex,text:s.label.style.text,rect:s.hostRect,labelRect:s.rect,align:a.style.align,verticalAlign:a.style.verticalAlign,labelLinePoints:Ge(r&&r.shape.points)}}var qt=["align","verticalAlign","width","height","fontSize"],Y=new he,Mt=Rt(),Ne=Rt();function ot(s,e,a){for(var r=0;r<a.length;r++){var t=a[r];e[t]!=null&&(s[t]=e[t])}}var st=["x","y","rotation"],Ue=function(){function s(){this._labelList=[],this._chartViewList=[]}return s.prototype.clearLabels=function(){this._labelList=[],this._chartViewList=[]},s.prototype._addLabel=function(e,a,r,t,l){var n=t.style,i=t.__hostTarget,u=i.textConfig||{},f=t.getComputedTransform(),g=t.getBoundingRect().plain();$t.applyTransform(g,g,f),f?Y.setLocalTransform(f):(Y.x=Y.y=Y.rotation=Y.originX=Y.originY=0,Y.scaleX=Y.scaleY=1);var E=t.__hostTarget,m;if(E){m=E.getBoundingRect().plain();var b=E.getComputedTransform();$t.applyTransform(m,m,b)}var S=m&&E.getTextGuideLine();this._labelList.push({label:t,labelLine:S,seriesModel:r,dataIndex:e,dataType:a,layoutOption:l,computedLayoutOption:null,rect:g,hostRect:m,priority:m?m.width*m.height:0,defaultAttr:{ignore:t.ignore,labelGuideIgnore:S&&S.ignore,x:Y.x,y:Y.y,scaleX:Y.scaleX,scaleY:Y.scaleY,rotation:Y.rotation,style:{x:n.x,y:n.y,align:n.align,verticalAlign:n.verticalAlign,width:n.width,height:n.height,fontSize:n.fontSize},cursor:t.cursor,attachedPos:u.position,attachedRot:u.rotation}})},s.prototype.addLabelsOfSeries=function(e){var a=this;this._chartViewList.push(e);var r=e.__model,t=r.get("labelLayout");(Yt(t)||ge(t).length)&&e.group.traverse(function(l){if(l.ignore)return!0;var n=l.getTextContent(),i=_t(l);n&&!n.disableLabelLayout&&a._addLabel(i.dataIndex,i.dataType,r,n,t)})},s.prototype.updateLayoutConfig=function(e){var a=e.getWidth(),r=e.getHeight();function t(at,U){return function(){Xt(at,U)}}for(var l=0;l<this._labelList.length;l++){var n=this._labelList[l],i=n.label,u=i.__hostTarget,f=n.defaultAttr,g=void 0;Yt(n.layoutOption)?g=n.layoutOption(Ve(n,u)):g=n.layoutOption,g=g||{},n.computedLayoutOption=g;var E=Math.PI/180;u&&u.setTextConfig({local:!1,position:g.x!=null||g.y!=null?null:f.attachedPos,rotation:g.rotate!=null?g.rotate*E:f.attachedRot,offset:[g.dx||0,g.dy||0]});var m=!1;if(g.x!=null?(i.x=Ht(g.x,a),i.setStyle("x",0),m=!0):(i.x=f.x,i.setStyle("x",f.style.x)),g.y!=null?(i.y=Ht(g.y,r),i.setStyle("y",0),m=!0):(i.y=f.y,i.setStyle("y",f.style.y)),g.labelLinePoints){var b=u.getTextGuideLine();b&&(b.setShape({points:g.labelLinePoints}),m=!1)}var S=Mt(i);S.needsUpdateLabelLine=m,i.rotation=g.rotate!=null?g.rotate*E:f.rotation,i.scaleX=f.scaleX,i.scaleY=f.scaleY;for(var O=0;O<qt.length;O++){var C=qt[O];i.setStyle(C,g[C]!=null?g[C]:f.style[C])}if(g.draggable){if(i.draggable=!0,i.cursor="move",u){var P=n.seriesModel;if(n.dataIndex!=null){var X=n.seriesModel.getData(n.dataType);P=X.getItemModel(n.dataIndex)}i.on("drag",t(u,P.getModel("labelLine")))}}else i.off("drag"),i.cursor=f.cursor}},s.prototype.layout=function(e){var a=e.getWidth(),r=e.getHeight(),t=ve(this._labelList),l=xt(t,function(u){return u.layoutOption.moveOverlap==="shiftX"}),n=xt(t,function(u){return u.layoutOption.moveOverlap==="shiftY"});me(l,0,a),pe(n,0,r);var i=xt(t,function(u){return u.layoutOption.hideOverlap});we(i)},s.prototype.processLabelsOverall=function(){var e=this;Tt(this._chartViewList,function(a){var r=a.__model,t=a.ignoreLabelLineUpdate,l=r.isAnimationEnabled();a.group.traverse(function(n){if(n.ignore&&!n.forceLabelAnimation)return!0;var i=!t,u=n.getTextContent();!i&&u&&(i=Mt(u).needsUpdateLabelLine),i&&e._updateLabelLine(n,r),l&&e._animateLabels(n,r)})})},s.prototype._updateLabelLine=function(e,a){var r=e.getTextContent(),t=_t(e),l=t.dataIndex;if(r&&l!=null){var n=a.getData(t.dataType),i=n.getItemModel(l),u={},f=n.getItemVisual(l,"style"),g=n.getVisual("drawType");u.stroke=f[g];var E=i.getModel("labelLine");ye(e,_e(i),u),Xt(e,E)}},s.prototype._animateLabels=function(e,a){var r=e.getTextContent(),t=e.getTextGuideLine();if(r&&(e.forceLabelAnimation||!r.ignore&&!r.invisible&&!e.disableLabelAnimation&&!xe(e))){var l=Mt(r),n=l.oldLayout,i=_t(e),u=i.dataIndex,f={x:r.x,y:r.y,rotation:r.rotation},g=a.getData(i.dataType);if(n){r.attr(n);var m=e.prevStates;m&&(Vt(m,"select")>=0&&r.attr(l.oldLayoutSelect),Vt(m,"emphasis")>=0&&r.attr(l.oldLayoutEmphasis)),Nt(r,f,a,u)}else if(r.attr(f),!be(r).valueAnimation){var E=Se(r.style.opacity,1);r.style.opacity=0,Gt(r,{style:{opacity:E}},a,u)}if(l.oldLayout=f,r.states.select){var b=l.oldLayoutSelect={};ot(b,f,st),ot(b,r.states.select,st)}if(r.states.emphasis){var S=l.oldLayoutEmphasis={};ot(S,f,st),ot(S,r.states.emphasis,st)}Me(r,u,g,a,a)}if(t&&!t.ignore&&!t.invisible){var l=Ne(t),n=l.oldLayout,O={points:t.shape.points};n?(t.attr({shape:n}),Nt(t,{shape:O},a)):(t.setShape(O),t.style.strokePercent=0,Gt(t,{style:{strokePercent:1}},a)),l.oldLayout=O}},s}();const qe=Ue;var Lt=Rt();function Ze(s){s.registerUpdateLifecycle("series:beforeupdate",function(e,a,r){var t=Lt(a).labelManager;t||(t=Lt(a).labelManager=new qe),t.clearLabels()}),s.registerUpdateLifecycle("series:layoutlabels",function(e,a,r){var t=Lt(a).labelManager;r.updatedSeries.forEach(function(l){t.addLabelsOfSeries(a.getViewOfSeriesModel(l))}),t.updateLayoutConfig(a),t.layout(a),t.processLabelsOverall()})}var je=function(s){jt(e,s);function e(){var a=s!==null&&s.apply(this,arguments)||this;return a.type="dataset",a}return e.prototype.init=function(a,r,t){s.prototype.init.call(this,a,r,t),this._sourceManager=new Le(this),Ut(this)},e.prototype.mergeOption=function(a,r){s.prototype.mergeOption.call(this,a,r),Ut(this)},e.prototype.optionUpdated=function(){this._sourceManager.dirty()},e.prototype.getSourceManager=function(){return this._sourceManager},e.type="dataset",e.defaultOption={seriesLayoutBy:Te},e}(Ce),Ke=function(s){jt(e,s);function e(){var a=s!==null&&s.apply(this,arguments)||this;return a.type="dataset",a}return e.type="dataset",e}(Ie);function Je(s){s.registerComponentModel(je),s.registerComponentView(Ke)}const Qe={class:"flex justify-between items-center"},ta={class:"icon"},ea={class:"flex flex-col justify-between items-center"},aa={class:"label"},ra={class:"value"},ia=et({__name:"home-card",props:{label:{type:String,default:""},value:{type:[String,Number],default:""}},setup(s){const e=s;return(a,r)=>{const t=tt("el-card");return V(),It(t,{class:"m-[5px]"},{default:R(()=>[B("div",Qe,[B("div",ta,[se(a.$slots,"default",{},void 0,!0)]),B("div",ea,[B("span",aa,Bt(e.label),1),B("div",ra,Bt(e.value),1)])])]),_:3})}}});const lt=Zt(ia,[["__scopeId","data-v-db50e18c"]]),na=()=>fe.request("get","/api/statistic",{}),oa=et({__name:"Bar",setup(s){const{isDark:e}=Et(),a=kt(()=>e.value?"dark":"light"),r=K(null),{setOptions:t,resize:l}=zt(r,{theme:a});return t({tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},grid:{bottom:"20px",right:"10px"},legend:{right:!0,data:["watchers","fork","star"]},xAxis:[{type:"category",axisTick:{alignWithLabel:!0},axisLabel:{interval:0},data:["2022","2023"],triggerEvent:!0}],yAxis:[{type:"value",triggerEvent:!0}],series:[{name:"watchers",type:"bar",barWidth:"15%",itemStyle:{color:new bt(0,0,0,1,[{offset:0,color:"#e6a23c"},{offset:1,color:"#eebe77"}])},data:[1,1]},{name:"fork",type:"bar",barWidth:"15%",itemStyle:{color:new bt(0,0,0,1,[{offset:0,color:"#f56c6c"},{offset:1,color:"#f89898"}])},data:[1,1]},{name:"star",type:"bar",barWidth:"15%",itemStyle:{color:new bt(0,0,0,1,[{offset:0,color:"#409EFF"},{offset:1,color:"#53a7ff"}])},data:[1,1]}],addTooltip:!0},{name:"click",callback:n=>{}}),ct(()=>At().getSidebarStatus,()=>{Dt(600).then(()=>l())}),(n,i)=>(V(),J("div",{ref_key:"barChartRef",ref:r,style:{width:"100%",height:"35vh"}},null,512))}}),sa=et({__name:"CodeMap",props:{commitList:{type:Array,default:()=>{}}},setup(s){const e=s,{isDark:a}=Et(),r=K(!0),t=kt(()=>a.value?"dark":"light"),l=K(null),{setOptions:n,resize:i}=zt(l,{theme:t}),u=()=>{n({tooltip:{formatter:function(f){return f.value[0]+" : "+f.value[1]}},visualMap:{show:!1,min:0,max:5,inRange:{color:["#ebedf0","#d6e685","#8cc665","#1e6823"]}},calendar:{itemStyle:{color:"#f1f1f1",borderWidth:3,borderColor:"#fff"},cellSize:["auto",18],range:[e.commitList[e.commitList.length-1][0],e.commitList[0][0]],splitLine:{show:!1},dayLabel:{firstDay:7,nameMap:"ZH"},monthLabel:{nameMap:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"]},yearLabel:{show:!1}},series:{type:"heatmap",coordinateSystem:"calendar",data:e.commitList}})};return ct(()=>At().getSidebarStatus,()=>{Dt(600).then(()=>i())}),ct(()=>e.commitList,f=>{f.length>0?(r.value=!1,u()):r.value=!0},{deep:!0,immediate:!0}),(f,g)=>{const E=tt("el-skeleton");return V(),It(E,{rows:5,animated:"",loading:r.value},{default:R(()=>[B("div",{ref_key:"codeMapChartRef",ref:l,style:{width:"100%",height:"35vh"}},null,512)]),_:1},8,["loading"])}}});Kt([ke,Je]);Kt(Ze);Ee({type:"series.wordCloud",visualStyleAccessPath:"textStyle",visualStyleMapper:function(s){return{fill:s.get("color")}},visualDrawType:"fill",optionUpdated:function(){var s=this.option;s.gridSize=Math.max(Math.floor(s.gridSize),4)},getInitialData:function(s,e){var a=ze(s.data,{coordDimensions:["value"]}),r=new De(a,this);return r.initData(s.data),r},defaultOption:{maskImage:null,shape:"circle",keepAspect:!1,left:"center",top:"center",width:"70%",height:"80%",sizeRange:[12,60],rotationRange:[-90,90],rotationStep:45,gridSize:8,drawOutOfBound:!1,shrinkToFit:!1,textStyle:{fontWeight:"normal"}}});Ae({type:"wordCloud",render:function(s,e,a){var r=this.group;r.removeAll();var t=s.getData(),l=s.get("gridSize");s.layoutInstance.ondraw=function(n,i,u,f){var g=t.getItemModel(u),E=g.getModel("textStyle"),m=new Re({style:St(E),scaleX:1/f.info.mu,scaleY:1/f.info.mu,x:(f.gx+f.info.gw/2)*l,y:(f.gy+f.info.gh/2)*l,rotation:f.rot});m.setStyle({x:f.info.fillTextOffsetX,y:f.info.fillTextOffsetY+i*.5,text:n,verticalAlign:"middle",fill:t.getItemVisual(u,"style").fill,fontSize:i}),r.add(m),t.setItemGraphicEl(u,m),m.ensureState("emphasis").style=St(g.getModel(["emphasis","textStyle"]),{state:"emphasis"}),m.ensureState("blur").style=St(g.getModel(["blur","textStyle"]),{state:"blur"}),Fe(m,g.get(["emphasis","focus"]),g.get(["emphasis","blurScope"])),m.stateTransition={duration:s.get("animation")?s.get(["stateAnimation","duration"]):0,easing:s.get(["stateAnimation","easing"])},m.__highDownDispatcher=!0},this._model=s},remove:function(){this.group.removeAll(),this._model.layoutInstance.dispose()},dispose:function(){this._model.layoutInstance.dispose()}});/*!
 * wordcloud2.js
 * http://timdream.org/wordcloud2.js/
 *
 * Copyright 2011 - 2019 Tim Guan-tin Chien and contributors.
 * Released under the MIT license
 */window.setImmediate||(window.setImmediate=function(){return window.msSetImmediate||window.webkitSetImmediate||window.mozSetImmediate||window.oSetImmediate||function(){if(!window.postMessage||!window.addEventListener)return null;var a=[void 0],r="zero-timeout-message",t=function(n){var i=a.length;return a.push(n),window.postMessage(r+i.toString(36),"*"),i};return window.addEventListener("message",function(n){if(!(typeof n.data!="string"||n.data.substr(0,r.length)!==r)){n.stopImmediatePropagation();var i=parseInt(n.data.substr(r.length),36);a[i]&&(a[i](),a[i]=void 0)}},!0),window.clearImmediate=function(n){a[n]&&(a[n]=void 0)},t}()||function(a){window.setTimeout(a,0)}}());window.clearImmediate||(window.clearImmediate=function(){return window.msClearImmediate||window.webkitClearImmediate||window.mozClearImmediate||window.oClearImmediate||function(a){window.clearTimeout(a)}}());var Ft=function(){var e=document.createElement("canvas");if(!e||!e.getContext)return!1;var a=e.getContext("2d");return!(!a||!a.getImageData||!a.fillText||!Array.prototype.some||!Array.prototype.push)}(),Ct=function(){if(Ft){for(var e=document.createElement("canvas").getContext("2d"),a=20,r,t;a;){if(e.font=a.toString(10)+"px sans-serif",e.measureText("Ｗ").width===r&&e.measureText("m").width===t)return a+1;r=e.measureText("Ｗ").width,t=e.measureText("m").width,a--}return 0}}(),la=function(s){if(Array.isArray(s)){var e=s.slice();return e.splice(0,2),e}else return[]},ca=function(e){for(var a,r,t=e.length;t;)a=Math.floor(Math.random()*t),r=e[--t],e[t]=e[a],e[a]=r;return e},j={},dt=function(e,a){if(!Ft)return;var r=Math.floor(Math.random()*Date.now());Array.isArray(e)||(e=[e]),e.forEach(function(w,o){if(typeof w=="string"){if(e[o]=document.getElementById(w),!e[o])throw new Error("The element id specified is not found.")}else if(!w.tagName&&!w.appendChild)throw new Error("You must pass valid HTML elements, or ID of the element.")});var t={list:[],fontFamily:'"Trebuchet MS", "Heiti TC", "微軟正黑體", "Arial Unicode MS", "Droid Fallback Sans", sans-serif',fontWeight:"normal",color:"random-dark",minSize:0,weightFactor:1,clearCanvas:!0,backgroundColor:"#fff",gridSize:8,drawOutOfBound:!1,shrinkToFit:!1,origin:null,drawMask:!1,maskColor:"rgba(255,0,0,0.3)",maskGapWidth:.3,layoutAnimation:!0,wait:0,abortThreshold:0,abort:function(){},minRotation:-Math.PI/2,maxRotation:Math.PI/2,rotationStep:.1,shuffle:!0,rotateRatio:.1,shape:"circle",ellipticity:.65,classes:null,hover:null,click:null};if(a)for(var l in a)l in t&&(t[l]=a[l]);if(typeof t.weightFactor!="function"){var n=t.weightFactor;t.weightFactor=function(o){return o*n}}if(typeof t.shape!="function")switch(t.shape){case"circle":default:t.shape="circle";break;case"cardioid":t.shape=function(o){return 1-Math.sin(o)};break;case"diamond":t.shape=function(o){var c=o%(2*Math.PI/4);return 1/(Math.cos(c)+Math.sin(c))};break;case"square":t.shape=function(o){return Math.min(1/Math.abs(Math.cos(o)),1/Math.abs(Math.sin(o)))};break;case"triangle-forward":t.shape=function(o){var c=o%(2*Math.PI/3);return 1/(Math.cos(c)+Math.sqrt(3)*Math.sin(c))};break;case"triangle":case"triangle-upright":t.shape=function(o){var c=(o+Math.PI*3/2)%(2*Math.PI/3);return 1/(Math.cos(c)+Math.sqrt(3)*Math.sin(c))};break;case"pentagon":t.shape=function(o){var c=(o+.955)%(2*Math.PI/5);return 1/(Math.cos(c)+.726543*Math.sin(c))};break;case"star":t.shape=function(o){var c=(o+.955)%(2*Math.PI/10);return(o+.955)%(2*Math.PI/5)-2*Math.PI/10>=0?1/(Math.cos(2*Math.PI/10-c)+3.07768*Math.sin(2*Math.PI/10-c)):1/(Math.cos(c)+3.07768*Math.sin(c))};break}t.gridSize=Math.max(Math.floor(t.gridSize),4);var i=t.gridSize,u=i-t.maskGapWidth,f=Math.abs(t.maxRotation-t.minRotation),g=Math.min(t.maxRotation,t.minRotation),E=t.rotationStep,m,b,S,O,C,P,X;function at(w,o){return"hsl("+(Math.random()*360).toFixed()+","+(Math.random()*30+70).toFixed()+"%,"+(Math.random()*(o-w)+w).toFixed()+"%)"}switch(t.color){case"random-dark":X=function(){return at(10,50)};break;case"random-light":X=function(){return at(50,90)};break;default:typeof t.color=="function"&&(X=t.color);break}var U;typeof t.fontWeight=="function"&&(U=t.fontWeight);var ut=null;typeof t.classes=="function"&&(ut=t.classes);var ft=!1,rt=[],ht,Ot=function(o){var c=o.currentTarget,d=c.getBoundingClientRect(),v,h;o.touches?(v=o.touches[0].clientX,h=o.touches[0].clientY):(v=o.clientX,h=o.clientY);var p=v-d.left,k=h-d.top,_=Math.floor(p*(c.width/d.width||1)/i),x=Math.floor(k*(c.height/d.height||1)/i);return rt[_]?rt[_][x]:null},Pt=function(o){var c=Ot(o);if(ht!==c){if(ht=c,!c){t.hover(void 0,void 0,o);return}t.hover(c.item,c.dimension,o)}},gt=function(o){var c=Ot(o);c&&(t.click(c.item,c.dimension,o),o.preventDefault())},vt=[],Jt=function(o){if(vt[o])return vt[o];var c=o*8,d=c,v=[];for(o===0&&v.push([O[0],O[1],0]);d--;){var h=1;t.shape!=="circle"&&(h=t.shape(d/c*2*Math.PI)),v.push([O[0]+o*h*Math.cos(-d/c*2*Math.PI),O[1]+o*h*Math.sin(-d/c*2*Math.PI)*t.ellipticity,d/c*2*Math.PI])}return vt[o]=v,v},mt=function(){return t.abortThreshold>0&&new Date().getTime()-P>t.abortThreshold},Qt=function(){return t.rotateRatio===0||Math.random()>t.rotateRatio?0:f===0?g:g+Math.round(Math.random()*f/E)*E},te=function(o,c,d,v){var h=t.weightFactor(c);if(h<=t.minSize)return!1;var p=1;h<Ct&&(p=function(){for(var yt=2;yt*h<Ct;)yt+=2;return yt}());var k;U?k=U(o,c,h,v):k=t.fontWeight;var _=document.createElement("canvas"),x=_.getContext("2d",{willReadFrequently:!0});x.font=k+" "+(h*p).toString(10)+"px "+t.fontFamily;var F=x.measureText(o).width/p,M=Math.max(h*p,x.measureText("m").width,x.measureText("Ｗ").width)/p,L=F+M*2,D=M*3,W=Math.ceil(L/i),$=Math.ceil(D/i);L=W*i,D=$*i;var z=-F/2,y=-M*.4,T=Math.ceil((L*Math.abs(Math.sin(d))+D*Math.abs(Math.cos(d)))/i),A=Math.ceil((L*Math.abs(Math.cos(d))+D*Math.abs(Math.sin(d)))/i),H=A*i,Z=T*i;_.setAttribute("width",H),_.setAttribute("height",Z),x.scale(1/p,1/p),x.translate(H*p/2,Z*p/2),x.rotate(-d),x.font=k+" "+(h*p).toString(10)+"px "+t.fontFamily,x.fillStyle="#000",x.textBaseline="middle",x.fillText(o,z*p,(y+h*.5)*p);var it=x.getImageData(0,0,H,Z).data;if(mt())return!1;for(var Wt=[],q=A,N,pt,wt,G=[T/2,A/2,T/2,A/2];q--;)for(N=T;N--;){wt=i;t:for(;wt--;)for(pt=i;pt--;)if(it[((N*i+wt)*H+(q*i+pt))*4+3]){Wt.push([q,N]),q<G[3]&&(G[3]=q),q>G[1]&&(G[1]=q),N<G[0]&&(G[0]=N),N>G[2]&&(G[2]=N);break t}}return{mu:p,occupied:Wt,bounds:G,gw:A,gh:T,fillTextOffsetX:z,fillTextOffsetY:y,fillTextWidth:F,fillTextHeight:M,fontSize:h}},ee=function(o,c,d,v,h){for(var p=h.length;p--;){var k=o+h[p][0],_=c+h[p][1];if(k>=b||_>=S||k<0||_<0){if(!t.drawOutOfBound)return!1;continue}if(!m[k][_])return!1}return!0},ae=function(o,c,d,v,h,p,k,_,x,F){var M=d.fontSize,L;X?L=X(v,h,M,p,k,F):L=t.color;var D;U?D=U(v,h,M,F):D=t.fontWeight;var W;ut?W=ut(v,h,M,F):W=t.classes,e.forEach(function($){if($.getContext){var z=$.getContext("2d"),y=d.mu;z.save(),z.scale(1/y,1/y),z.font=D+" "+(M*y).toString(10)+"px "+t.fontFamily,z.fillStyle=L,z.translate((o+d.gw/2)*i*y,(c+d.gh/2)*i*y),_!==0&&z.rotate(-_),z.textBaseline="middle",z.fillText(v,d.fillTextOffsetX*y,(d.fillTextOffsetY+M*.5)*y),z.restore()}else{var T=document.createElement("span"),A="";A="rotate("+-_/Math.PI*180+"deg) ",d.mu!==1&&(A+="translateX(-"+d.fillTextWidth/4+"px) scale("+1/d.mu+")");var H={position:"absolute",display:"block",font:D+" "+M*d.mu+"px "+t.fontFamily,left:(o+d.gw/2)*i+d.fillTextOffsetX+"px",top:(c+d.gh/2)*i+d.fillTextOffsetY+"px",width:d.fillTextWidth+"px",height:d.fillTextHeight+"px",lineHeight:M+"px",whiteSpace:"nowrap",transform:A,webkitTransform:A,msTransform:A,transformOrigin:"50% 40%",webkitTransformOrigin:"50% 40%",msTransformOrigin:"50% 40%"};L&&(H.color=L),T.textContent=v;for(var Z in H)T.style[Z]=H[Z];if(x)for(var it in x)T.setAttribute(it,x[it]);W&&(T.className+=W),$.appendChild(T)}})},re=function(o,c,d,v,h){if(!(o>=b||c>=S||o<0||c<0)){if(m[o][c]=!1,d){var p=e[0].getContext("2d");p.fillRect(o*i,c*i,u,u)}ft&&(rt[o][c]={item:h,dimension:v})}},ie=function(o,c,d,v,h,p){var k=h.occupied,_=t.drawMask,x;_&&(x=e[0].getContext("2d"),x.save(),x.fillStyle=t.maskColor);var F;if(ft){var M=h.bounds;F={x:(o+M[3])*i,y:(c+M[0])*i,w:(M[1]-M[3]+1)*i,h:(M[2]-M[0]+1)*i}}for(var L=k.length;L--;){var D=o+k[L][0],W=c+k[L][1];D>=b||W>=S||D<0||W<0||re(D,W,_,F,p)}_&&x.restore()},ne=function w(o,c){if(c>20)return null;var d,v,h;Array.isArray(o)?(d=o[0],v=o[1]):(d=o.word,v=o.weight,h=o.attributes);var p=Qt(),k=la(o),_=te(d,v,p,k);if(!_||mt())return!1;if(!t.drawOutOfBound&&!t.shrinkToFit){var x=_.bounds;if(x[1]-x[3]+1>b||x[2]-x[0]+1>S)return!1}for(var F=C+1,M=function($){var z=Math.floor($[0]-_.gw/2),y=Math.floor($[1]-_.gh/2),T=_.gw,A=_.gh;return ee(z,y,T,A,_.occupied)?(ae(z,y,_,d,v,C-F,$[2],p,h,k),ie(z,y,T,A,_,o),{gx:z,gy:y,rot:p,info:_}):!1};F--;){var L=Jt(C-F);t.shuffle&&(L=[].concat(L),ca(L));for(var D=0;D<L.length;D++){var W=M(L[D]);if(W)return W}}return t.shrinkToFit?(Array.isArray(o)?o[1]=o[1]*3/4:o.weight=o.weight*3/4,w(o,c+1)):null},Q=function(o,c,d){if(c)return!e.some(function(v){var h=new CustomEvent(o,{detail:d||{}});return!v.dispatchEvent(h)},this);e.forEach(function(v){var h=new CustomEvent(o,{detail:d||{}});v.dispatchEvent(h)},this)},oe=function(){var o=e[0];if(o.getContext)b=Math.ceil(o.width/i),S=Math.ceil(o.height/i);else{var c=o.getBoundingClientRect();b=Math.ceil(c.width/i),S=Math.ceil(c.height/i)}if(Q("wordcloudstart",!0)){O=t.origin?[t.origin[0]/i,t.origin[1]/i]:[b/2,S/2],C=Math.floor(Math.sqrt(b*b+S*S)),m=[];var d,v,h;if(!o.getContext||t.clearCanvas)for(e.forEach(function(y){if(y.getContext){var T=y.getContext("2d");T.fillStyle=t.backgroundColor,T.clearRect(0,0,b*(i+1),S*(i+1)),T.fillRect(0,0,b*(i+1),S*(i+1))}else y.textContent="",y.style.backgroundColor=t.backgroundColor,y.style.position="relative"}),d=b;d--;)for(m[d]=[],v=S;v--;)m[d][v]=!0;else{var p=document.createElement("canvas").getContext("2d");p.fillStyle=t.backgroundColor,p.fillRect(0,0,1,1);var k=p.getImageData(0,0,1,1).data,_=o.getContext("2d").getImageData(0,0,b*i,S*i).data;d=b;for(var x,F;d--;)for(m[d]=[],v=S;v--;){F=i;t:for(;F--;)for(x=i;x--;)for(h=4;h--;)if(_[((v*i+F)*b*i+(d*i+x))*4+h]!==k[h]){m[d][v]=!1;break t}m[d][v]!==!1&&(m[d][v]=!0)}_=p=k=void 0}if(t.hover||t.click){for(ft=!0,d=b+1;d--;)rt[d]=[];t.hover&&o.addEventListener("mousemove",Pt),t.click&&(o.addEventListener("click",gt),o.addEventListener("touchstart",gt),o.addEventListener("touchend",function(y){y.preventDefault()}),o.style.webkitTapHighlightColor="rgba(0, 0, 0, 0)"),o.addEventListener("wordcloudstart",function y(){o.removeEventListener("wordcloudstart",y),o.removeEventListener("mousemove",Pt),o.removeEventListener("click",gt),ht=void 0})}h=0;var M,L,D=!0;t.layoutAnimation?t.wait!==0?(M=window.setTimeout,L=window.clearTimeout):(M=window.setImmediate,L=window.clearImmediate):(M=function(y){y()},L=function(){D=!1});var W=function(T,A){e.forEach(function(H){H.addEventListener(T,A)},this)},$=function(T,A){e.forEach(function(H){H.removeEventListener(T,A)},this)},z=function y(){$("wordcloudstart",y),L(j[r])};W("wordcloudstart",z),j[r]=(t.layoutAnimation?M:setTimeout)(function y(){if(D){if(h>=t.list.length){L(j[r]),Q("wordcloudstop",!1),$("wordcloudstart",z),delete j[r];return}P=new Date().getTime();var T=ne(t.list[h],0),A=!Q("wordclouddrawn",!0,{item:t.list[h],drawn:T});if(mt()||A){L(j[r]),t.abort(),Q("wordcloudabort",!1),Q("wordcloudstop",!1),$("wordcloudstart",z);return}h++,j[r]=M(y,t.wait)}},t.wait)}};oe()};dt.isSupported=Ft;dt.minFontSize=Ct;if(!dt.isSupported)throw new Error("Sorry your browser not support wordCloud");function da(s){for(var e=s.getContext("2d"),a=e.getImageData(0,0,s.width,s.height),r=e.createImageData(a),t=0,l=0,n=0;n<a.data.length;n+=4){var i=a.data[n+3];if(i>128){var u=a.data[n]+a.data[n+1]+a.data[n+2];t+=u,++l}}for(var f=t/l,n=0;n<a.data.length;n+=4){var u=a.data[n]+a.data[n+1]+a.data[n+2],i=a.data[n+3];i<128||u>f?(r.data[n]=0,r.data[n+1]=0,r.data[n+2]=0,r.data[n+3]=0):(r.data[n]=255,r.data[n+1]=255,r.data[n+2]=255,r.data[n+3]=255)}e.putImageData(r,0,0)}Oe(function(s,e){s.eachSeriesByType("wordCloud",function(a){var r=$e(a.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()}),t=a.get("keepAspect"),l=a.get("maskImage"),n=l?l.width/l.height:1;t&&ua(r,n);var i=a.getData(),u=document.createElement("canvas");u.width=r.width,u.height=r.height;var f=u.getContext("2d");if(l)try{f.drawImage(l,0,0,u.width,u.height),da(u)}catch(C){console.error("Invalid mask image"),console.error(C.toString())}var g=a.get("sizeRange"),E=a.get("rotationRange"),m=i.getDataExtent("value"),b=Math.PI/180,S=a.get("gridSize");dt(u,{list:i.mapArray("value",function(C,P){var X=i.getItemModel(P);return[i.getName(P),X.get("textStyle.fontSize",!0)||Ye(C,m,g),P]}).sort(function(C,P){return P[1]-C[1]}),fontFamily:a.get("textStyle.fontFamily")||a.get("emphasis.textStyle.fontFamily")||s.get("textStyle.fontFamily"),fontWeight:a.get("textStyle.fontWeight")||a.get("emphasis.textStyle.fontWeight")||s.get("textStyle.fontWeight"),gridSize:S,ellipticity:r.height/r.width,minRotation:E[0]*b,maxRotation:E[1]*b,clearCanvas:!l,rotateRatio:1,rotationStep:a.get("rotationStep")*b,drawOutOfBound:a.get("drawOutOfBound"),shrinkToFit:a.get("shrinkToFit"),layoutAnimation:a.get("layoutAnimation"),shuffle:!1,shape:a.get("shape")});function O(C){var P=C.detail.item;C.detail.drawn&&a.layoutInstance.ondraw&&(C.detail.drawn.gx+=r.x/S,C.detail.drawn.gy+=r.y/S,a.layoutInstance.ondraw(P[0],P[1],P[2],C.detail.drawn))}u.addEventListener("wordclouddrawn",O),a.layoutInstance&&a.layoutInstance.dispose(),a.layoutInstance={ondraw:null,dispose:function(){u.removeEventListener("wordclouddrawn",O),u.addEventListener("wordclouddrawn",function(C){C.preventDefault()})}}})});Pe(function(s){var e=(s||{}).series;!We(e)&&(e=e?[e]:[]);var a=["shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"];Tt(e,function(t){if(t&&t.type==="wordCloud"){var l=t.textStyle||{};r(l.normal),r(l.emphasis)}});function r(t){t&&Tt(a,function(l){t.hasOwnProperty(l)&&(t["text"+Be(l)]=t[l])})}});function ua(s,e){var a=s.width,r=s.height;a>r*e?(s.x+=(a-r*e)/2,s.width=r*e):(s.y+=(r-a/e)/2,s.height=a/e)}const fa=et({__name:"WordCloud",setup(s){const{isDark:e}=Et(),a=kt(()=>e.value?"dark":"light"),r=K(null),{setOptions:t,resize:l}=zt(r,{theme:a}),n=K([]),i=async()=>{const f=await He();f.code==0&&(n.value=f.result.map(g=>({value:Math.random()*4+8,name:g.tag_name})))};return(async()=>{await i(),t({title:{text:""},backgroundColor:"#fff",series:[{type:"wordCloud",gridSize:10,sizeRange:[12,28],rotationRange:[0,0],textStyle:{color:function(){return"rgb("+Math.round(Math.random()*255)+", "+Math.round(Math.random()*255)+", "+Math.round(Math.random()*255)+")"}},left:"center",top:"center",right:null,bottom:null,width:"100%",height:"100%",data:n.value}]},{name:"click",callback:f=>{}})})(),ct(()=>At().getSidebarStatus,()=>{Dt(600).then(()=>l())}),(f,g)=>(V(),J("div",{ref_key:"wordCloudRef",ref:r,style:{width:"100%",height:"35vh"}},null,512))}}),ha={class:"icon",width:"200",height:"200",viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},ga=B("path",{d:"M920.529 444.496 580.418 104.381a135.932 135.932 0 0 0-96.156-39.758l-283.844.04h-.018c-75.124 0-136.099 60.746-136.099 135.885v283.674a136.091 136.091 0 0 0 39.882 96.2l340.23 340.24a136.023 136.023 0 0 0 192.37 0l283.746-283.76c53.128-53.132 53.128-139.278 0-192.406zm-45.21 147.193-283.746 283.76a72.065 72.065 0 0 1-101.925 0L149.436 535.21a72.187 72.187 0 0 1-21.194-50.99v-283.67a72.021 72.021 0 0 1 72.154-71.946l283.844-.04a71.888 71.888 0 0 1 50.936 21.053L875.29 489.72a72.104 72.104 0 0 1 .03 101.969z"},null,-1),va=B("path",{d:"M384.002 256C313.307 256 256 313.306 256 384.001s57.308 127.996 128.003 127.996 128-57.308 128-128S454.69 256 384.002 256zM429.3 429.294a64.06 64.06 0 1 1 18.759-45.293 63.64 63.64 0 0 1-18.763 45.293z"},null,-1),ma=[ga,va];function pa(s,e){return V(),J("svg",ha,ma)}const wa={render:pa},ya={class:"icon",width:"200",height:"200",viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},_a=B("path",{d:"M884.224 522.24H504.32V141.824c0-16.896-13.824-30.72-30.72-30.72-120.32 0-233.472 47.616-317.952 134.144S26.112 445.952 29.184 566.784c2.56 114.688 49.152 222.72 131.072 304.128 81.92 81.408 189.952 128 304.64 130.56h10.24c117.76 0 227.84-45.568 312.32-128.512 86.528-85.504 133.632-199.68 132.608-321.024-.512-2.048-1.536-29.696-35.84-29.696zM743.936 829.952c-74.752 73.728-173.056 112.64-277.504 110.592C260.608 935.936 95.744 771.072 91.136 565.76c-3.072-104.448 35.84-202.752 108.544-277.504 65.536-67.072 151.552-107.52 243.712-114.688v378.88c0 16.896 13.824 30.72 30.72 30.72 129.024 0 311.296 0 382.976.512-6.144 93.184-46.08 179.712-113.152 246.272z",fill:"#333"},null,-1),xa=B("path",{d:"M603.136 11.264c-8.192-.512-15.872 3.072-22.016 8.704-5.632 5.632-9.216 13.824-9.216 22.016v378.88c0 16.896 13.824 30.72 30.72 30.72h378.88c16.896 0 30.72-13.824 30.72-30.72 0-223.744-183.808-407.552-409.088-409.6zm30.208 378.88V74.24C800.768 90.624 934.4 224.256 949.248 390.144H633.344z",fill:"#333"},null,-1),ba=[_a,xa];function Sa(s,e){return V(),J("svg",ya,ba)}const Ma={render:Sa},La={class:"icon",width:"200",height:"200",viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},Ta=B("path",{d:"M811.706 1024H212.294c-93.12 0-174.823-87.571-174.823-187.388v-674.29C37.471 69.776 112.605 0 212.294 0h383.897l7.015 5.932c111.744 95.48 185.858 170.74 279.615 266.093 29.658 30.04 61.166 62.122 96.437 97.393l7.27 7.335v459.86C986.466 936.428 904.827 1024 811.707 1024zM212.294 49.94c-72.39 0-124.882 47.262-124.882 112.382v674.29c0 71.945 59.507 137.384 124.882 137.384h599.412c65.311 0 124.882-65.44 124.882-137.384V397.418c-32.528-32.465-61.74-62.25-89.356-90.377-90.952-92.419-163.28-165.958-269.602-257.164H212.294z",fill:"#4D4D4D"},null,-1),Ca=B("path",{d:"M936.588 449.527H724.262c-99.753 0-187.324-81.703-187.324-174.823V49.94a25.002 25.002 0 0 1 49.94 0v224.764c0 65.311 65.503 124.882 137.384 124.882h212.326a25.002 25.002 0 1 1 0 49.94z",fill:"#4D4D4D"},null,-1),Ia=[Ta,Ca];function ka(s,e){return V(),J("svg",La,Ia)}const Ea={render:ka},za={class:"icon",width:"200",height:"200",viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},Da=B("path",{d:"M511.914 941.605c-255.613 0-385.312-57.452-385.312-170.81 0-80.846 133.655-133.999 266.622-151.888v-16.858c-79.986-55.904-118.861-153.436-118.861-297.24 0-139.331 87.21-222.586 233.423-222.586h7.912c146.212 0 233.423 83.255 233.423 222.586 0 54.184 0 214.674-117.83 297.412l-.343 16.686c132.967 18.061 266.106 71.042 266.106 151.716.172 113.53-129.527 170.982-385.14 170.982zm-3.956-800.037c-79.47 0-174.25 28.382-174.25 163.241 0 129.699 34.23 213.47 104.584 255.785 8.945 5.332 14.277 14.965 14.277 25.286v59.345c0 15.31-11.525 28.038-26.662 29.414-144.32 14.45-239.96 67.43-239.96 95.984 0 92.2 177.347 111.637 325.967 111.637 148.792 0 325.967-19.265 325.967-111.637 0-28.726-95.64-81.534-239.96-95.984a29.517 29.517 0 0 1-26.662-30.102l1.376-59.345c.172-10.149 5.676-19.438 14.277-24.77 70.526-42.488 103.209-123.678 103.209-255.785 0-135.031-94.78-163.241-174.25-163.241l-7.913.172z",fill:"#575B66"},null,-1),Aa=[Da];function Ra(s,e){return V(),J("svg",za,Aa)}const Fa={render:Ra},Oa=s=>(de("data-v-f9e26a11"),s=s(),ue(),s),Pa=Oa(()=>B("div",{class:"filings"},[B("a",{class:"change-color",href:"http://beian.miit.gov.cn/",target:"_blank"},"蜀ICP备2023007772号")],-1)),Wa=et({__name:"index",setup(s){const e=K({articleCount:0,categoryCount:0,tagCount:0,userCount:0,commitList:[]}),a=async()=>{const t=await na();t.code==0&&Object.assign(e.value,t.result)},r=async()=>{const t=await Xe(),l=[];t.length&&t.forEach(n=>{const i=l.findIndex(u=>u[0]==n.created_at.split("T")[0]);i!=-1?(n.commit_count=n.commit_count-0,l[i][1]+=n.commit_count):l.push([n.created_at.split("T")[0],n.commit_count-0])}),e.value.commitList=l};return le(async()=>{await a(),r()}),(t,l)=>{const n=tt("el-col"),i=tt("el-row"),u=tt("el-card");return V(),It(u,{class:"home"},{header:R(()=>[ce(" 首页 ")]),default:R(()=>[I(i,null,{default:R(()=>[I(n,{xs:12,sm:6},{default:R(()=>[I(lt,{label:"文章",value:e.value.articleCount},{default:R(()=>[I(nt(Ea),{class:"w-[48px] h-[48px] svg-fill"})]),_:1},8,["value"])]),_:1}),I(n,{xs:12,sm:6},{default:R(()=>[I(lt,{label:"分类",value:e.value.categoryCount},{default:R(()=>[I(nt(Ma),{class:"w-[48px] h-[48px] svg-fill"})]),_:1},8,["value"])]),_:1}),I(n,{xs:12,sm:6},{default:R(()=>[I(lt,{label:"标签",value:e.value.tagCount},{default:R(()=>[I(nt(wa),{class:"w-[48px] h-[48px] svg-fill"})]),_:1},8,["value"])]),_:1}),I(n,{xs:12,sm:6},{default:R(()=>[I(lt,{label:"用户",value:e.value.userCount},{default:R(()=>[I(nt(Fa),{class:"w-[48px] h-[48px] svg-fill"})]),_:1},8,["value"])]),_:1})]),_:1}),I(i,{class:"mt-4"},{default:R(()=>[I(n,{span:24},{default:R(()=>[I(sa,{"commit-list":e.value.commitList},null,8,["commit-list"])]),_:1})]),_:1}),I(i,null,{default:R(()=>[I(n,{xs:24,sm:12},{default:R(()=>[I(u,{class:"m-[5px]"},{default:R(()=>[I(oa)]),_:1})]),_:1}),I(n,{xs:24,sm:12},{default:R(()=>[I(u,{class:"m-[5px]"},{default:R(()=>[I(fa)]),_:1})]),_:1})]),_:1}),Pa]),_:1})}}});const qa=Zt(Wa,[["__scopeId","data-v-f9e26a11"]]);export{qa as default};
